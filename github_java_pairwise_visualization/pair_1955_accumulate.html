<pre style='background-color:blue;'>
<font color='blue'>
  
    <font color='#ff0000' weight='1' id='228'><font color='#ff0000' weight='1' id='2'>int<font color='#ff0000' weight='1' id='1'></font></font> <font color='#ff0000' weight='1' id='5'>sort</font>(<font color='#ff0000' weight='1' id='8'><font color='#ff0000' weight='1' id='7'>int<font color='#ff0000' weight='1' id='6'></font></font> </font>arr<font color='#ff0000' weight='1' id='9'></font>[])
    <font color='#ff0000' weight='1' id='227'>{
        <font color='#ff0000' weight='1' id='34'>int <font color='#ff0000' weight='1' id='22'>n </font>= <font color='#ff0000' weight='1' id='29'><font color='#ff0000' weight='1' id='24'>arr</font><font color='#ff0000' weight='1' id='26'>.<font color='#ff0000' weight='1' id='25'></font></font><font color='#ff0000' weight='1' id='28'>length<font color='#ff0000' weight='1' id='27'></font></font></font>;
 
        
        </font>for <font color='#ff0000' weight='1' id='69'>(<font color='#ff0000' weight='1' id='50'><font color='#ff0000' weight='1' id='37'><font color='#ff0000' weight='1' id='36'>int<font color='#ff0000' weight='1' id='35'></font></font> </font><font color='#ff0000' weight='1' id='39'>gap<font color='#ff0000' weight='1' id='38'></font> </font><font color='#ff0000' weight='1' id='47'>= <font color='#ff0000' weight='1' id='41'>n<font color='#ff0000' weight='1' id='40'></font></font><font color='#ff0000' weight='1' id='43'>/<font color='#ff0000' weight='1' id='42'></font></font>2</font>; </font><font color='#ff0000' weight='1' id='59'><font color='#ff0000' weight='1' id='57'><font color='#ff0000' weight='1' id='52'>gap<font color='#ff0000' weight='1' id='51'></font> </font><font color='#ff0000' weight='1' id='54'>&gt;<font color='#ff0000' weight='1' id='53'></font> </font><font color='#ff0000' weight='1' id='56'>0<font color='#ff0000' weight='1' id='55'></font></font>;</font><font color='#ff0000' weight='1' id='58'></font> </font><font color='#ff0000' weight='1' id='67'>gap /= <font color='#ff0000' weight='1' id='65'>2<font color='#ff0000' weight='1' id='64'></font></font>)</font><font color='#ff0000' weight='1' id='68'></font>
        </font>{
            
            
            
            
            for (<font color='#ff0000' weight='1' id='81'><font color='#ff0000' weight='1' id='79'><font color='#ff0000' weight='1' id='72'><font color='#ff0000' weight='1' id='71'>int<font color='#ff0000' weight='1' id='70'></font></font> </font><font color='#ff0000' weight='1' id='74'>i </font><font color='#ff0000' weight='1' id='78'>= gap<font color='#ff0000' weight='1' id='75'></font></font>;</font><font color='#ff0000' weight='1' id='80'></font> </font><font color='#ff0000' weight='1' id='90'><font color='#ff0000' weight='1' id='88'><font color='#ff0000' weight='1' id='83'>i<font color='#ff0000' weight='1' id='82'></font> </font><font color='#ff0000' weight='1' id='85'>&lt; </font>n;</font><font color='#ff0000' weight='1' id='89'></font> </font><font color='#ff0000' weight='1' id='98'>i<font color='#ff0000' weight='1' id='91'></font> <font color='#ff0000' weight='1' id='94'>+= </font><font color='#ff0000' weight='1' id='96'>1</font>)</font><font color='#ff0000' weight='1' id='99'></font>
            {
                
                
                
                <font color='#ff0000' weight='1' id='118'><font color='#ff0000' weight='1' id='116'><font color='#ff0000' weight='1' id='103'><font color='#ff0000' weight='1' id='102'>int<font color='#ff0000' weight='1' id='101'></font></font> </font><font color='#ff0000' weight='1' id='105'>temp </font><font color='#ff0000' weight='1' id='115'>= <font color='#ff0000' weight='1' id='107'>arr<font color='#ff0000' weight='1' id='106'></font></font><font color='#ff0000' weight='1' id='112'>[i]<font color='#ff0000' weight='1' id='111'></font></font></font>;</font>
 
                
                
                </font><font color='#ff0000' weight='1' id='124'>int j;</font>
                <font color='#ff0000' weight='1' id='199'>for (<font color='#ff0000' weight='1' id='135'><font color='#ff0000' weight='1' id='133'>j <font color='#ff0000' weight='1' id='130'>= </font><font color='#ff0000' weight='1' id='132'>i</font>;</font> </font><font color='#ff0000' weight='1' id='160'>j &gt;=<font color='#ff0000' weight='1' id='138'></font> gap<font color='#ff0000' weight='1' id='140'></font> &amp;&amp; <font color='#ff0000' weight='1' id='145'>arr</font>[<font color='#ff0000' weight='1' id='152'>j - gap]</font> <font color='#ff0000' weight='1' id='157'>&gt; </font>temp;</font><font color='#ff0000' weight='1' id='161'></font> j <font color='#ff0000' weight='1' id='166'>-= </font><font color='#ff0000' weight='1' id='168'>gap</font>)<font color='#ff0000' weight='1' id='171'></font>
                    <font color='#ff0000' weight='1' id='198'><font color='#ff0000' weight='1' id='197'><font color='#ff0000' weight='1' id='195'><font color='#ff0000' weight='1' id='180'>arr[<font color='#ff0000' weight='1' id='177'><font color='#ff0000' weight='1' id='176'>j</font>]</font> </font><font color='#ff0000' weight='1' id='182'>=<font color='#ff0000' weight='1' id='181'></font> </font>arr<font color='#ff0000' weight='1' id='183'></font>[<font color='#ff0000' weight='1' id='186'>j </font><font color='#ff0000' weight='1' id='188'>- </font><font color='#ff0000' weight='1' id='190'>gap</font>]<font color='#ff0000' weight='1' id='192'></font>;</font><font color='#ff0000' weight='1' id='196'></font></font></font>
 
                
                
                </font><font color='#ff0000' weight='1' id='214'><font color='#ff0000' weight='1' id='212'><font color='#ff0000' weight='1' id='201'>arr<font color='#ff0000' weight='1' id='200'></font></font><font color='#ff0000' weight='1' id='206'>[<font color='#ff0000' weight='1' id='204'><font color='#ff0000' weight='1' id='203'>j<font color='#ff0000' weight='1' id='202'></font></font>]</font></font> <font color='#ff0000' weight='1' id='209'>=<font color='#ff0000' weight='1' id='208'></font> </font><font color='#ff0000' weight='1' id='211'>temp<font color='#ff0000' weight='1' id='210'></font></font>;</font><font color='#ff0000' weight='1' id='213'></font>
            }</font>
        }<font color='#ff0000' weight='1' id='218'></font>
        return <font color='#ff0000' weight='1' id='223'>0<font color='#ff0000' weight='1' id='221'></font>;</font>
    }<font color='#ff0000' weight='1' id='226'></font></font></font></font>
</pre>
<pre style='background-color:blue;'>
<font color='blue'>
private List&lt;Stmt&gt; topologicalSort(StmtList stmts) {

        List&lt;Stmt&gt; out = new ArrayList&lt;Stmt&gt;(stmts.getSize());
        Stack&lt;Stmt&gt; stack = new Stack&lt;Stmt&gt;();
        stack.push(stmts.getFirst());

        boolean visitedFlag = false;

        while (!stack.empty()) {
            Stmt stmt = stack.pop();
            if (stmt._cfg_visited == visitedFlag) {
                continue;
            }
            if (stmt._cfg_froms.size() == 0 || stack.size() == 0) {
                stmt._cfg_visited = visitedFlag;
                out.add(stmt);
                for (Stmt t : stmt._cfg_tos) {
                    t._cfg_froms.remove(stmt);
                    if (t._cfg_visited != visitedFlag) {
                        stack.push(t);
                    }
                }
            }
        }
        return out;
    }

    </font>
</pre>
