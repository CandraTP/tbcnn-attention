<pre style='background-color:blue;'>
<font color='blue'>

    public static void buildheap(int []a){
        n=a.length-1;
        for(int i=n/2;i&gt;=0;i--){
            maxheap(a,i);
        }
    }
    
    public static void maxheap(int[] a, int i)<font color='#ff0000' weight='1' id='295'>{ 
        <font color='#000bff' weight='0.0116279' id='135'><font color='#0000ff' weight='9.68992e-05' id='124'>left</font><font color='#0000ff' weight='9.68992e-05' id='126'>=</font><font color='#0000ff' weight='9.68992e-05' id='128'>2</font>*i;
        </font><font color='#000fff' weight='0.0155039' id='152'><font color='#0006ff' weight='0.00678295' id='150'>right=2*<font color='#0000ff' weight='6.92137e-05' id='145'>i</font>+1;</font>
        </font><font color='#0034ff' weight='0.0513566' id='206'>if(<font color='#0000ff' weight='2.30712e-05' id='154'>left </font>&lt;= n &amp;&amp; <font color='#0000ff' weight='1.15356e-05' id='162'>a</font>[left] &gt; a<font color='#0000ff' weight='4.61425e-05' id='177'>[i]</font>)<font color='#0003ff' weight='0.00355297' id='193'>{
            <font color='#0000ff' weight='2.69165e-05' id='183'>largest</font><font color='#0000ff' weight='2.69165e-05' id='185'>=</font>left;
        }
        </font><font color='#0003ff' weight='0.00355297' id='205'>else{
            largest<font color='#0000ff' weight='2.69165e-05' id='197'>=</font>i;
        }</font>
        
        </font>if(<font color='#0006ff' weight='0.00629845' id='233'>right &lt;= n &amp;&amp; <font color='#0000ff' weight='0.000242248' id='222'>a<font color='#0000ff' weight='6.92137e-05' id='221'>[<font color='#0000ff' weight='8.65172e-06' id='218'>right</font>]</font> </font>&gt; <font color='#0000ff' weight='0.000242248' id='232'>a<font color='#0000ff' weight='6.92137e-05' id='231'>[largest]</font></font>)</font><font color='#0005ff' weight='0.00532946' id='247'>{
            <font color='#0000ff' weight='0.000726744' id='242'>largest<font color='#0000ff' weight='4.03747e-05' id='239'>=</font><font color='#0000ff' weight='4.03747e-05' id='241'>right</font>;</font>
        }</font>
        <font color='#002bff' weight='0.0426357' id='293'>if<font color='#0003ff' weight='0.00387597' id='257'>(<font color='#0000ff' weight='8.07494e-05' id='250'>largest</font>!=<font color='#0000ff' weight='8.07494e-05' id='254'>i</font>)</font><font color='#0010ff' weight='0.0164729' id='292'>{
            <font color='#0002ff' weight='0.00242248' id='273'><font color='#0000ff' weight='4.03747e-05' id='259'>exchange</font><font color='#0000ff' weight='0.000363372' id='269'>(<font color='#0000ff' weight='4.03747e-05' id='263'><font color='#0000ff' weight='2.69165e-05' id='262'>i</font>,</font><font color='#0000ff' weight='4.03747e-05' id='267'>largest)</font></font>;
            </font><font color='#0002ff' weight='0.00242248' id='289'><font color='#0000ff' weight='0.000968992' id='286'><font color='#0000ff' weight='4.03747e-05' id='275'>maxheap</font>(<font color='#0000ff' weight='2.69165e-05' id='278'><font color='#0000ff' weight='1.34582e-05' id='277'>a</font></font>, <font color='#0000ff' weight='1.34582e-05' id='281'>largest</font>)</font>;
        }</font></font>
    }</font></font>
    
    public static void exchange(int i, int j){
        int t=a[i];
        a[i]=a[j];
        a[j]=t; 
        }
    
    public static void sort(int []a0){
        a=a0;
        buildheap(a);
        
        for(int i=n;i&gt;0;i--){
            exchange(0, i);
            n=n-1;
            maxheap(a, 0);
        }
    }</font>
</pre>
<pre style='background-color:blue;'>
<font color='blue'>
    public static &lt;T extends Comparable&lt;T&gt;&gt; void sort(List&lt;T&gt; a) {
        Collections.shuffle(a);
        sort(a, 0, a.size() - 1);
    }

    private static &lt;T extends Comparable&lt;T&gt;&gt; void sort(List&lt;T&gt; a, int lo, int hi) {
        if (hi &lt;= lo + M) {
            Insertion.sort(a, lo, hi);
            return;
        }

        int j = partition(a, lo, hi);

        sort(a, lo, j - 1);
        sort(a, j + 1, hi);
    }

    
    public static &lt;T extends Comparable&lt;T&gt;&gt; void mediansort(List&lt;T&gt; a) {
        Collections.shuffle(a);
        mediansort(a, 0, a.size() - 1);
    }

    private static &lt;T extends Comparable&lt;T&gt;&gt; void mediansort(List&lt;T&gt; a, int lo, int hi) {
        if (hi &lt;= lo + M) {
            Insertion.sort(a, lo, hi);
            return;
        }

        T pivot = SortUtils.median(a, lo, hi);
        int i = lo, j = hi - 1; 

        for (; ; ) {
            while (a.get(++i).compareTo(pivot) &lt; 0) ;
            while (pivot.compareTo(a.get(--j)) &lt; 0) ;
            if (i &lt; j)
                SortUtils.exchange(a, i, j);
            else break;
        }

        SortUtils.exchange(a, i, hi - 1); 

        mediansort(a, lo, i - 1);
        mediansort(a, i + 1, hi);
    }

    private static &lt;T extends Comparable&lt;T&gt;&gt; int partition(List&lt;T&gt; a, int lo, int hi) {
        int i = lo;
        int j = hi + 1;

        T v = a.get(lo);

        while (true) {
            while (SortUtils.less(a.get(++i), v)) if (i == hi) break;
            while (SortUtils.less(v, a.get(--j))) if (j == lo) break;

            if (i &gt;= j) break;
            SortUtils.exchange(a, i, j);
        }

        SortUtils.exchange(a, lo, j);

        return j;
    }</font>
</pre>
