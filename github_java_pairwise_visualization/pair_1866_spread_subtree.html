<pre style='background-color:blue;'>
<font color='blue'>
    public static &lt;T extends Comparable&lt;T&gt;&gt; void sort(List&lt;T&gt; a) {
        Collections.shuffle(a);
        sort(a, 0, a.size() - 1);
    }

    private static &lt;T extends Comparable&lt;T&gt;&gt; void sort(List&lt;T&gt; a, int lo, int hi) {
        if (hi &lt;= lo + M) {
            Insertion.sort(a, lo, hi);
            return;
        }

        int j = partition(a, lo, hi);

        sort(a, lo, j - 1);
        sort(a, j + 1, hi);
    }

    
    public static &lt;T extends Comparable&lt;T&gt;&gt; void mediansort(List&lt;T&gt; a) {
        Collections.shuffle(a);
        mediansort(a, 0, a.size() - 1);
    }

    private static &lt;T extends Comparable&lt;T&gt;&gt; void mediansort(List&lt;T&gt; a, int lo, int hi) {
        if (hi &lt;= lo + M) {
            Insertion.sort(a, lo, hi);
            return;
        }

        T pivot = SortUtils.median(a, lo, hi);
        int i = lo, j = hi - 1; 

        for (; ; ) {
            while (a.get(++i).compareTo(pivot) &lt; 0) ;
            while (pivot.compareTo(a.get(--j)) &lt; 0) ;
            if (i &lt; j)
                SortUtils.exchange(a, i, j);
            else break;
        }

        SortUtils.exchange(a, i, hi - 1); 

        mediansort(a, lo, i - 1);
        mediansort(a, i + 1, hi);
    }

    private static &lt;T extends Comparable&lt;T&gt;&gt; int partition(List&lt;T&gt; a, int lo, int hi) {
        int i = lo;
        int j = hi + 1;

        T v = a.get(lo);

        while (true) {
            while (SortUtils.less(a.get(++i), v)) if (i == hi) break;
            while (SortUtils.less(v, a.get(--j))) if (j == lo) break;

            if (i &gt;= j) break;
            SortUtils.exchange(a, i, j);
        }

        SortUtils.exchange(a, lo, j);

        return j;
    }</font>
</pre>
<pre style='background-color:blue;'>
<font color='blue'>
private List&lt;Stmt&gt; topologicalSort(StmtList stmts) {

        List&lt;Stmt&gt; out = new ArrayList&lt;Stmt&gt;(stmts.getSize());
        Stack&lt;Stmt&gt; stack = new Stack&lt;Stmt&gt;();
        stack.push(stmts.getFirst());

        boolean visitedFlag = false;

        while (!stack.empty()) <font color='#ff0000' weight='1' id='335'>{
            <font color='#0019ff' weight='0.025' id='164'><font color='#000bff' weight='0.0111842' id='162'><font color='#0000ff' weight='0.000438597' id='147'><font color='#0000ff' weight='0.000219298' id='146'>Stmt</font> </font><font color='#0000ff' weight='0.000219298' id='149'>stmt </font><font color='#0002ff' weight='0.00241228' id='161'>= <font color='#0002ff' weight='0.00219298' id='160'><font color='#0000ff' weight='3.65497e-05' id='151'>stack</font>.<font color='#0000ff' weight='3.65497e-05' id='155'>pop</font>()</font></font>;</font>
            </font>if (<font color='#0000ff' weight='0.000657895' id='171'><font color='#0000ff' weight='3.65497e-05' id='166'>stmt</font><font color='#0000ff' weight='3.65497e-05' id='168'>.</font><font color='#0000ff' weight='3.65497e-05' id='170'>_cfg_visited</font> </font><font color='#0000ff' weight='0.000109649' id='173'>== </font><font color='#0000ff' weight='0.000109649' id='175'>visitedFlag</font>) <font color='#0002ff' weight='0.00197368' id='182'>{
                <font color='#0000ff' weight='0.000328947' id='180'>continue;
            }</font></font>
            <font color='#00c6ff' weight='0.194737' id='333'>if <font color='#0018ff' weight='0.0236842' id='221'>(<font color='#000bff' weight='0.0111842' id='219'><font color='#0000ff' weight='0.000610902' id='198'><font color='#0000ff' weight='0.000234962' id='195'><font color='#0000ff' weight='4.69925e-06' id='186'>stmt</font>.<font color='#0000ff' weight='4.69925e-06' id='190'>_cfg_froms</font><font color='#0000ff' weight='4.69925e-06' id='192'>.</font><font color='#0000ff' weight='4.69925e-06' id='194'>size</font></font><font color='#0000ff' weight='2.34962e-05' id='197'>()</font> </font><font color='#0000ff' weight='4.69925e-05' id='200'>== </font>0 <font color='#0000ff' weight='4.69925e-05' id='204'>|| </font><font color='#0000ff' weight='7.83208e-06' id='206'>stack</font>.<font color='#0000ff' weight='7.83208e-06' id='210'>size</font><font color='#0000ff' weight='2.34962e-05' id='213'>()</font> <font color='#0000ff' weight='4.69925e-05' id='216'>== </font>0)</font></font><font color='#0049ff' weight='0.0723684' id='332'> <font color='#0049ff' weight='0.0717105' id='331'>{
                <font color='#0000ff' weight='0.000904605' id='233'><font color='#0000ff' weight='0.000164474' id='228'><font color='#0000ff' weight='9.13743e-06' id='223'>stmt</font>.<font color='#0000ff' weight='9.13743e-06' id='227'>_cfg_visited</font> </font><font color='#0000ff' weight='2.74123e-05' id='230'>= </font><font color='#0000ff' weight='2.74123e-05' id='232'>visitedFlag</font>;</font>
                <font color='#0000ff' weight='1.37061e-05' id='237'>out</font>.<font color='#0000ff' weight='1.37061e-05' id='241'>add</font>(<font color='#0000ff' weight='2.05592e-05' id='244'>stmt</font>);
                <font color='#000cff' weight='0.0125' id='329'>for <font color='#0001ff' weight='0.00139803' id='270'>(<font color='#0000ff' weight='0.000616776' id='268'><font color='#0000ff' weight='0.000575658' id='267'><font color='#0000ff' weight='1.37061e-05' id='254'>Stmt</font> <font color='#0000ff' weight='1.37061e-05' id='257'>t </font><font color='#0000ff' weight='0.000109649' id='266'>: <font color='#0000ff' weight='9.5943e-05' id='265'><font color='#0000ff' weight='8.22368e-05' id='264'><font color='#0000ff' weight='4.56871e-06' id='259'>stmt</font>.<font color='#0000ff' weight='4.56871e-06' id='263'>_cfg_tos</font></font></font></font></font>)</font> </font><font color='#0004ff' weight='0.0046875' id='328'>{
                    <font color='#0000ff' weight='0.000548246' id='291'><font color='#0000ff' weight='0.00024671' id='289'><font color='#0000ff' weight='0.000233004' id='288'><font color='#0000ff' weight='6.85307e-05' id='281'><font color='#0000ff' weight='1.37061e-06' id='272'>t</font>.<font color='#0000ff' weight='1.37061e-06' id='276'>_cfg_froms</font>.<font color='#0000ff' weight='1.37061e-06' id='280'>remove</font></font>(<font color='#0000ff' weight='3.42653e-06' id='283'>stmt</font>)</font>;</font>
                    </font><font color='#0000ff' weight='0.000932018' id='326'>if <font color='#0000ff' weight='0.00017818' id='305'>(<font color='#0000ff' weight='7.53838e-05' id='303'><font color='#0000ff' weight='1.37061e-05' id='298'><font color='#0000ff' weight='7.61452e-07' id='293'>t</font>.<font color='#0000ff' weight='7.61452e-07' id='297'>_cfg_visited</font> </font><font color='#0000ff' weight='2.28436e-06' id='300'>!= </font><font color='#0000ff' weight='2.28436e-06' id='302'>visitedFlag</font>)</font></font><font color='#0000ff' weight='0.000260417' id='325'> <font color='#0000ff' weight='0.000246711' id='324'>{
                        <font color='#0000ff' weight='5.71089e-07' id='307'>stack</font>.<font color='#0000ff' weight='5.71089e-07' id='311'>push</font>(<font color='#0000ff' weight='8.56634e-07' id='314'>t</font>);
                    }</font></font>
                }</font></font>
            }</font></font></font>
        }</font></font>
        return out;
    }

    </font>
</pre>
