<pre style='background-color:blue;'>
<font color='blue'>
 public static void shellSort(DataWrapShellSort[] data) {
        System.out.println("å¼å§æåºï¼");
        int arrayLength = data.length;
        
        int h = 1;
        
        while (h &lt;= arrayLength / 3) {
            h = h * 3 + 1;
        }
        while (h &gt; 0) {
            System.out.println("===hçå¼:" + h + "===");
            for (int i = h; i &lt; arrayLength; i++) <font color='#ff0000' weight='1' id='381'>{
                
                <font color='#0014ff' weight='0.0203349' id='189'><font color='#0009ff' weight='0.00897129' id='187'><font color='#0000ff' weight='0.000398724' id='174'><font color='#0000ff' weight='0.000199362' id='173'>DataWrapShellSort</font> </font><font color='#0000ff' weight='0.000199362' id='176'>tmp </font><font color='#0001ff' weight='0.00179426' id='186'>= <font color='#0001ff' weight='0.0015949' id='185'><font color='#0001ff' weight='0.00139553' id='184'><font color='#0000ff' weight='9.9681e-05' id='178'>data</font><font color='#0000ff' weight='0.000398724' id='183'>[<font color='#0000ff' weight='9.9681e-05' id='181'><font color='#0000ff' weight='4.98405e-05' id='180'>i</font>]</font></font></font></font></font>;</font>
                
                
                </font><font color='#00b4ff' weight='0.177033' id='338'>if <font color='#0015ff' weight='0.020933' id='225'>(<font color='#000aff' weight='0.00986842' id='223'><font color='#0000ff' weight='0.00041866' id='197'><font color='#0000ff' weight='2.99043e-05' id='191'>data</font><font color='#0000ff' weight='0.000119617' id='196'>[<font color='#0000ff' weight='2.99043e-05' id='194'><font color='#0000ff' weight='1.49522e-05' id='193'>i</font>]</font></font></font><font color='#0000ff' weight='5.98086e-05' id='199'>.</font><font color='#0001ff' weight='0.00107655' id='218'><font color='#0000ff' weight='2.99043e-05' id='201'>compareTo</font><font color='#0000ff' weight='0.000448565' id='217'>(<font color='#0000ff' weight='0.000194378' id='215'><font color='#0000ff' weight='0.000179426' id='214'><font color='#0000ff' weight='0.000164474' id='213'><font color='#0000ff' weight='7.47608e-06' id='203'>data</font><font color='#0000ff' weight='5.98086e-05' id='212'>[<font color='#0000ff' weight='2.24282e-05' id='210'><font color='#0000ff' weight='1.24601e-06' id='205'>i </font><font color='#0000ff' weight='1.24601e-06' id='207'>- </font><font color='#0000ff' weight='1.24601e-06' id='209'>h</font>]</font></font></font></font>)</font></font> </font><font color='#0000ff' weight='5.98086e-05' id='220'>&lt; </font><font color='#0000ff' weight='5.98086e-05' id='222'>0</font>)</font></font><font color='#0043ff' weight='0.0663876' id='337'> <font color='#0043ff' weight='0.0657895' id='336'>{
                    <font color='#0002ff' weight='0.00224282' id='241'><font color='#0000ff' weight='0.00097189' id='239'><font color='#0000ff' weight='4.98405e-05' id='228'>int </font><font color='#0000ff' weight='2.49203e-05' id='230'>j </font><font color='#0000ff' weight='0.000174442' id='238'>= i <font color='#0000ff' weight='8.30675e-06' id='234'>- </font><font color='#0000ff' weight='8.30675e-06' id='236'>h</font></font>;</font>
                    
                    </font><font color='#000bff' weight='0.0109151' id='315'>for <font color='#0003ff' weight='0.00336423' id='287'>(<font color='#0000ff' weight='1.86902e-05' id='243'>; </font><font color='#0000ff' weight='0.000616776' id='277'>j &gt;= <font color='#0000ff' weight='1.03834e-06' id='249'>0 </font>&amp;&amp; <font color='#0000ff' weight='7.26841e-06' id='259'><font color='#0000ff' weight='5.19172e-07' id='253'>data</font>[j]</font><font color='#0000ff' weight='1.03834e-06' id='261'>.</font><font color='#0000ff' weight='8.30675e-06' id='270'><font color='#0000ff' weight='5.19172e-07' id='263'>compareTo</font><font color='#0000ff' weight='2.59586e-06' id='269'>(<font color='#0000ff' weight='7.78758e-07' id='267'><font color='#0000ff' weight='5.19172e-07' id='266'><font color='#0000ff' weight='2.59586e-07' id='265'>tmp</font></font>)</font></font> </font><font color='#0000ff' weight='1.03834e-06' id='272'>&gt; </font><font color='#0000ff' weight='1.03834e-06' id='274'>0</font>; </font><font color='#0000ff' weight='0.000130831' id='285'>j -= h)</font> </font><font color='#0001ff' weight='0.00194378' id='314'>{
                        <font color='#0000ff' weight='6.85307e-05' id='299'><font color='#0000ff' weight='3.11503e-06' id='289'>data</font><font color='#0000ff' weight='2.49203e-05' id='298'>[<font color='#0000ff' weight='9.3451e-06' id='296'><font color='#0000ff' weight='5.19172e-07' id='291'>j </font><font color='#0000ff' weight='5.19172e-07' id='293'>+ </font><font color='#0000ff' weight='5.19172e-07' id='295'>h</font>]</font></font> </font><font color='#0000ff' weight='6.23006e-06' id='301'>= </font><font color='#0000ff' weight='4.36105e-05' id='309'><font color='#0000ff' weight='3.11503e-06' id='303'>data</font><font color='#0000ff' weight='1.24601e-05' id='308'>[<font color='#0000ff' weight='3.11503e-06' id='306'><font color='#0000ff' weight='1.55752e-06' id='305'>j</font>]</font></font></font>;
                    }</font>
                    
                    </font><font color='#0002ff' weight='0.00269139' id='334'><font color='#0000ff' weight='0.000274123' id='327'><font color='#0000ff' weight='1.24601e-05' id='317'>data</font><font color='#0000ff' weight='9.9681e-05' id='326'>[<font color='#0000ff' weight='3.73804e-05' id='324'><font color='#0000ff' weight='2.07669e-06' id='319'>j </font><font color='#0000ff' weight='2.07669e-06' id='321'>+ </font><font color='#0000ff' weight='2.07669e-06' id='323'>h</font>]</font></font> </font><font color='#0000ff' weight='2.49203e-05' id='329'>= </font><font color='#0000ff' weight='2.49203e-05' id='331'>tmp</font>;
                }</font></font></font>
                </font><font color='#0030ff' weight='0.0478469' id='379'>System.out.println(<font color='#0003ff' weight='0.00313995' id='371'><font color='#0001ff' weight='0.00104665' id='364'><font color='#0000ff' weight='1.06801e-05' id='351'>java</font><font color='#0000ff' weight='1.06801e-05' id='353'>.</font><font color='#0000ff' weight='1.06801e-05' id='355'>util</font><font color='#0000ff' weight='1.06801e-05' id='357'>.</font><font color='#0000ff' weight='1.06801e-05' id='359'>Arrays</font><font color='#0000ff' weight='1.06801e-05' id='361'>.</font><font color='#0000ff' weight='1.06801e-05' id='363'>toString</font></font><font color='#0000ff' weight='0.000373804' id='370'>(<font color='#0000ff' weight='0.000112141' id='368'><font color='#0000ff' weight='7.47608e-05' id='367'><font color='#0000ff' weight='3.73804e-05' id='366'>data</font></font>)</font></font></font>);
            }</font></font>
            h = (h - 1) / 3;
        }
    }</font>
</pre>
<pre style='background-color:blue;'>
<font color='blue'>
    public void <font color='#0000ff' weight='0.00077821' id='7'>sort</font>(<font color='#0000ff' weight='9.72763e-05' id='9'>Comparable</font>[] <font color='#0000ff' weight='0.000194553' id='15'>a</font>) <font color='#00bbff' weight='0.183658' id='256'>{
        int <font color='#0000ff' weight='2.16169e-05' id='24'>N </font>= <font color='#0000ff' weight='7.20565e-06' id='26'>a</font>.length;
        int h = 1;
        while (h <font color='#0000ff' weight='6.48508e-06' id='52'>&lt; </font><font color='#0000ff' weight='6.48508e-06' id='54'>N </font>/ 3)
            <font color='#0001ff' weight='0.00110246' id='79'>h = h * 3 + 1;</font>
        <font color='#0013ff' weight='0.0191958' id='229'>while (h <font color='#0000ff' weight='1.08085e-05' id='84'>&gt;= </font><font color='#0000ff' weight='1.08085e-05' id='86'>1</font>) <font color='#0009ff' weight='0.00894942' id='228'>{
            <font color='#0002ff' weight='0.00274535' id='217'>for (int i = <font color='#0000ff' weight='4.50353e-07' id='96'>0</font>; i &lt; <font color='#0000ff' weight='4.50353e-07' id='107'>N</font>; i++) <font color='#0001ff' weight='0.00104842' id='216'>{
                <font color='#0000ff' weight='2.16169e-05' id='125'><font color='#0000ff' weight='7.20565e-06' id='123'><font color='#0000ff' weight='9.00706e-07' id='120'>count</font><font color='#0000ff' weight='9.00706e-07' id='122'>++</font>;</font>
                </font><font color='#0000ff' weight='0.000317049' id='214'>for <font color='#0000ff' weight='0.000109886' id='187'>(<font color='#0000ff' weight='4.95388e-06' id='137'><font color='#0000ff' weight='2.02659e-06' id='135'>int j = i;</font> </font>j &gt;= <font color='#0000ff' weight='4.50353e-08' id='143'>h </font>&amp;&amp; <font color='#0000ff' weight='1.26099e-06' id='174'><font color='#0000ff' weight='2.25177e-08' id='147'>less</font><font color='#0000ff' weight='5.62941e-07' id='173'>(<font color='#0000ff' weight='6.7553e-08' id='157'><font color='#0000ff' weight='6.00471e-08' id='156'><font color='#0000ff' weight='3.75294e-09' id='149'>a</font>[j]</font>, </font><font color='#0000ff' weight='9.75765e-08' id='171'><font color='#0000ff' weight='9.00706e-08' id='170'><font color='#0000ff' weight='8.25647e-08' id='169'><font color='#0000ff' weight='3.75294e-09' id='159'>a</font><font color='#0000ff' weight='3.00235e-08' id='168'>[<font color='#0000ff' weight='1.12588e-08' id='166'><font color='#0000ff' weight='6.2549e-10' id='161'>j </font><font color='#0000ff' weight='6.2549e-10' id='163'>- </font><font color='#0000ff' weight='6.2549e-10' id='165'>h</font>]</font></font></font></font>)</font></font></font>; j -= h) </font><font color='#0000ff' weight='4.50353e-05' id='213'>{
                    <font color='#0000ff' weight='9.00706e-06' id='208'><font color='#0000ff' weight='2.25176e-07' id='189'>exch</font><font color='#0000ff' weight='3.828e-06' id='207'>(<font color='#0000ff' weight='1.68882e-07' id='193'><font color='#0000ff' weight='1.12588e-07' id='192'><font color='#0000ff' weight='5.62941e-08' id='191'>a</font></font>, </font><font color='#0000ff' weight='1.68882e-07' id='197'><font color='#0000ff' weight='1.12588e-07' id='196'><font color='#0000ff' weight='5.62941e-08' id='195'>j</font></font>, </font><font color='#0000ff' weight='3.94059e-07' id='205'><font color='#0000ff' weight='3.37765e-07' id='204'>j <font color='#0000ff' weight='1.87647e-08' id='201'>- </font>h</font>)</font></font></font>;
                }</font>
            }</font></font>
            </font><font color='#0000ff' weight='6.48508e-05' id='224'>h <font color='#0000ff' weight='3.60282e-06' id='221'>/= </font><font color='#0000ff' weight='3.60282e-06' id='223'>3</font>;</font>
        }</font>
        </font>System.out.println(<font color='#0000ff' weight='5.40424e-06' id='242'>count </font><font color='#0000ff' weight='5.40424e-06' id='244'>/ </font><font color='#0000ff' weight='5.40424e-06' id='246'>N</font>);
    }</font></font>
</pre>
