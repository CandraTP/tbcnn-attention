<pre style='background-color:blue;'>
<font color='blue'>
<font color='#0092ff' weight='0.143766' id='358'><font color='#00ffd3' weight='0.292651' id='21'>package <font color='#005eff' weight='0.0925955' id='19'><font color='#00cfff' weight='0.203785' id='2'>net<font color='#00fff4' weight='0.260474' id='1'></font></font><font color='#00b2ff' weight='0.174611' id='4'>.<font color='#00fff4' weight='0.260474' id='3'></font></font><font color='#00cfff' weight='0.203785' id='6'>sf<font color='#00fff4' weight='0.260474' id='5'></font></font><font color='#00b2ff' weight='0.174611' id='8'>.<font color='#00fff4' weight='0.260474' id='7'></font></font><font color='#00cfff' weight='0.203785' id='10'>anathema<font color='#00fff4' weight='0.260474' id='9'></font></font><font color='#00b2ff' weight='0.174611' id='12'>.<font color='#00fff4' weight='0.260474' id='11'></font></font><font color='#00cfff' weight='0.203785' id='14'>graph<font color='#00fff4' weight='0.260474' id='13'></font></font><font color='#00b2ff' weight='0.174611' id='16'>.<font color='#00fff4' weight='0.260474' id='15'></font></font><font color='#00cfff' weight='0.203785' id='18'>layering<font color='#00fff4' weight='0.260474' id='17'></font></font>;</font><font color='#00fff4' weight='0.260474' id='20'></font>

</font><font color='#00ffd2' weight='0.29325' id='46'>import <font color='#0044ff' weight='0.0676111' id='44'><font color='#00cfff' weight='0.203132' id='23'>net<font color='#00fff4' weight='0.260474' id='22'></font></font><font color='#00b1ff' weight='0.173957' id='25'>.<font color='#00fff4' weight='0.260474' id='24'></font></font><font color='#00cfff' weight='0.203132' id='27'>sf<font color='#00fff4' weight='0.260474' id='26'></font></font><font color='#00b1ff' weight='0.173957' id='29'>.<font color='#00fff4' weight='0.260474' id='28'></font></font><font color='#00cfff' weight='0.203132' id='31'>anathema<font color='#00fff4' weight='0.260474' id='30'></font></font><font color='#00b1ff' weight='0.173957' id='33'>.<font color='#00fff4' weight='0.260474' id='32'></font></font><font color='#00cfff' weight='0.203132' id='35'>graph<font color='#00fff4' weight='0.260474' id='34'></font></font><font color='#00b1ff' weight='0.173957' id='37'>.<font color='#00fff4' weight='0.260474' id='36'></font></font><font color='#00cfff' weight='0.203132' id='39'>nodes<font color='#00fff4' weight='0.260474' id='38'></font></font><font color='#00b1ff' weight='0.173957' id='41'>.<font color='#00fff4' weight='0.260474' id='40'></font></font><font color='#00cfff' weight='0.203132' id='43'>IRegularNode<font color='#00fff4' weight='0.260474' id='42'></font></font>;</font><font color='#00fff4' weight='0.260474' id='45'></font>
</font><font color='#00ffd2' weight='0.29325' id='71'>import <font color='#0044ff' weight='0.0676111' id='69'><font color='#00cfff' weight='0.203132' id='48'>net<font color='#00fff4' weight='0.260474' id='47'></font></font><font color='#00b1ff' weight='0.173957' id='50'>.<font color='#00fff4' weight='0.260474' id='49'></font></font><font color='#00cfff' weight='0.203132' id='52'>sf<font color='#00fff4' weight='0.260474' id='51'></font></font><font color='#00b1ff' weight='0.173957' id='54'>.<font color='#00fff4' weight='0.260474' id='53'></font></font><font color='#00cfff' weight='0.203132' id='56'>anathema<font color='#00fff4' weight='0.260474' id='55'></font></font><font color='#00b1ff' weight='0.173957' id='58'>.<font color='#00fff4' weight='0.260474' id='57'></font></font><font color='#00cfff' weight='0.203132' id='60'>graph<font color='#00fff4' weight='0.260474' id='59'></font></font><font color='#00b1ff' weight='0.173957' id='62'>.<font color='#00fff4' weight='0.260474' id='61'></font></font><font color='#00cfff' weight='0.203132' id='64'>nodes<font color='#00fff4' weight='0.260474' id='63'></font></font><font color='#00b1ff' weight='0.173957' id='66'>.<font color='#00fff4' weight='0.260474' id='65'></font></font><font color='#00cfff' weight='0.203132' id='68'>ISimpleNode<font color='#00fff4' weight='0.260474' id='67'></font></font>;</font><font color='#00fff4' weight='0.260474' id='70'></font>

</font><font color='#00ffd4' weight='0.291452' id='84'>import <font color='#0089ff' weight='0.134789' id='82'><font color='#00d4ff' weight='0.208359' id='73'>java<font color='#00fff4' weight='0.260474' id='72'></font></font><font color='#00b6ff' weight='0.179185' id='75'>.<font color='#00fff4' weight='0.260474' id='74'></font></font><font color='#00d4ff' weight='0.208359' id='77'>util<font color='#00fff4' weight='0.260474' id='76'></font></font><font color='#00b6ff' weight='0.179185' id='79'>.<font color='#00fff4' weight='0.260474' id='78'></font></font><font color='#00d4ff' weight='0.208359' id='81'>ArrayList<font color='#00fff4' weight='0.260474' id='80'></font></font>;</font><font color='#00fff4' weight='0.260474' id='83'></font>
</font><font color='#00ffd4' weight='0.291452' id='97'>import <font color='#0089ff' weight='0.134789' id='95'><font color='#00d4ff' weight='0.208359' id='86'>java<font color='#00fff4' weight='0.260474' id='85'></font></font><font color='#00b6ff' weight='0.179185' id='88'>.<font color='#00fff4' weight='0.260474' id='87'></font></font><font color='#00d4ff' weight='0.208359' id='90'>util<font color='#00fff4' weight='0.260474' id='89'></font></font><font color='#00b6ff' weight='0.179185' id='92'>.<font color='#00fff4' weight='0.260474' id='91'></font></font><font color='#00d4ff' weight='0.208359' id='94'>List<font color='#00fff4' weight='0.260474' id='93'></font></font>;</font><font color='#00fff4' weight='0.260474' id='96'></font>

</font><font color='#00ffea' weight='0.270107' id='357'><font color='#00ecff' weight='0.231875' id='99'>public<font color='#00fff4' weight='0.260474' id='98'></font> class </font><font color='#00ceff' weight='0.202696' id='101'>TopologyBuilder<font color='#00fff4' weight='0.260474' id='100'></font> </font><font color='#00ff5f' weight='0.406693' id='356'>{

  <font color='#000dff' weight='0.0130261' id='236'><font color='#00ecff' weight='0.231536' id='103'>public<font color='#00fff4' weight='0.260474' id='102'></font> </font><font color='#00ecff' weight='0.231536' id='105'>static<font color='#00fff4' weight='0.260474' id='104'></font> </font><font color='#00cfff' weight='0.203303' id='111'><font color='#00ff52' weight='0.418981' id='110'><font color='#00ffe3' weight='0.276641' id='107'>IRegularNode<font color='#00fff4' weight='0.260474' id='106'></font></font><font color='#00deff' weight='0.218287' id='109'>[]<font color='#00fff4' weight='0.260474' id='108'></font></font></font> </font><font color='#00ceff' weight='0.202357' id='113'>sortGraphByTopology<font color='#00fff4' weight='0.260474' id='112'></font></font><font color='#00ffd3' weight='0.292256' id='125'>(<font color='#00ff4e' weight='0.423344' id='123'><font color='#ffef00' weight='0.765102' id='122'><font color='#00ff03' weight='0.496585' id='119'><font color='#9cff00' weight='0.653607' id='118'><font color='#00ffc5' weight='0.305969' id='115'>IRegularNode<font color='#00fff4' weight='0.260474' id='114'></font></font><font color='#00fcff' weight='0.247615' id='117'>[]<font color='#00fff4' weight='0.260474' id='116'></font></font></font> </font><font color='#00fff3' weight='0.261013' id='121'>acyclicGraph<font color='#00fff4' weight='0.260474' id='120'></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='124'></font> </font><font color='#0018ff' weight='0.0236653' id='235'>{
    <font color='#00f7ff' weight='0.242816' id='151'><font color='#00ff88' weight='0.366146' id='149'><font color='#00ffef' weight='0.265115' id='134'><font color='#b4ff00' weight='0.676665' id='133'><font color='#00fff1' weight='0.263109' id='127'>List<font color='#00fff4' weight='0.260474' id='126'></font></font><font color='#00ff19' weight='0.475257' id='132'>&lt;<font color='#00ffc4' weight='0.306876' id='130'><font color='#00ff38' weight='0.44415' id='129'>ISimpleNode<font color='#00fff4' weight='0.260474' id='128'></font></font>&gt;</font><font color='#00fff4' weight='0.260474' id='131'></font></font></font> </font><font color='#00d6ff' weight='0.209994' id='136'>topologicalSort<font color='#00fff4' weight='0.260474' id='135'></font> </font><font color='#00ffb9' weight='0.317918' id='148'>= <font color='#d6ff00' weight='0.710567' id='147'><font color='#00ddff' weight='0.217333' id='138'>new<font color='#00fff4' weight='0.260474' id='137'></font> </font><font color='#a1ff00' weight='0.658721' id='146'><font color='#1dff00' weight='0.528484' id='143'><font color='#00ffd5' weight='0.290329' id='140'>ArrayList<font color='#00fff4' weight='0.260474' id='139'></font></font><font color='#00fff3' weight='0.261154' id='142'>&lt;&gt;<font color='#00fff4' weight='0.260474' id='141'></font></font></font><font color='#00edff' weight='0.232653' id='145'>()<font color='#00fff4' weight='0.260474' id='144'></font></font></font></font></font>;</font><font color='#00fff4' weight='0.260474' id='150'></font>
    </font><font color='#00ffa2' weight='0.34094' id='200'>for <font color='#007bff' weight='0.120998' id='164'>(<font color='#00ff93' weight='0.355542' id='162'><font color='#9bff00' weight='0.652399' id='161'><font color='#00fff1' weight='0.263571' id='154'><font color='#00ff4f' weight='0.422497' id='153'>IRegularNode<font color='#00fff4' weight='0.260474' id='152'></font></font> </font><font color='#00edff' weight='0.232845' id='156'>node<font color='#00fff4' weight='0.260474' id='155'></font> </font><font color='#00ffd1' weight='0.294296' id='160'>: <font color='#4cff00' weight='0.574794' id='159'><font color='#4fff00' weight='0.578109' id='158'>acyclicGraph<font color='#00fff4' weight='0.260474' id='157'></font></font></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='163'></font> </font><font color='#009bff' weight='0.152206' id='199'>{
      <font color='#00ff91' weight='0.357127' id='197'>if <font color='#00ffab' weight='0.331483' id='177'>(<font color='#00f3ff' weight='0.239002' id='175'><font color='#e3ff00' weight='0.722576' id='174'><font color='#3dff00' weight='0.560394' id='171'><font color='#00f7ff' weight='0.243097' id='166'>node<font color='#00fff4' weight='0.260474' id='165'></font></font><font color='#00daff' weight='0.213922' id='168'>.<font color='#00fff4' weight='0.260474' id='167'></font></font><font color='#00f7ff' weight='0.243097' id='170'>isRootNode<font color='#00fff4' weight='0.260474' id='169'></font></font></font><font color='#00e3ff' weight='0.222932' id='173'>()<font color='#00fff4' weight='0.260474' id='172'></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='176'></font></font><font color='#00ffb4' weight='0.323221' id='196'> <font color='#94ff00' weight='0.64555' id='195'>{
        <font color='#7dff00' weight='0.623445' id='193'><font color='#00ff80' weight='0.373997' id='191'><font color='#ff9200' weight='0.856791' id='190'><font color='#00faff' weight='0.245202' id='179'>sortIntoSetRecursively<font color='#00fff4' weight='0.260474' id='178'></font></font><font color='#00ff1b' weight='0.473152' id='189'>(<font color='#00faff' weight='0.245205' id='183'><font color='#2aff00' weight='0.542067' id='182'><font color='#3eff00' weight='0.561746' id='181'>node<font color='#00fff4' weight='0.260474' id='180'></font></font></font>, </font><font color='#00faff' weight='0.245205' id='187'><font color='#2aff00' weight='0.542067' id='186'><font color='#3eff00' weight='0.561746' id='185'>topologicalSort<font color='#00fff4' weight='0.260474' id='184'></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='188'></font></font></font>;</font><font color='#00fff4' weight='0.260474' id='192'></font>
      }</font><font color='#00fff4' weight='0.260474' id='194'></font></font></font>
    }</font><font color='#00fff4' weight='0.260474' id='198'></font></font>
    </font><font color='#00ddff' weight='0.216861' id='233'>return <font color='#00d8ff' weight='0.211767' id='231'><font color='#e4ff00' weight='0.723994' id='230'><font color='#00ff95' weight='0.353699' id='207'><font color='#00ecff' weight='0.231614' id='202'>topologicalSort<font color='#00fff4' weight='0.260474' id='201'></font></font><font color='#00ceff' weight='0.202439' id='204'>.<font color='#00fff4' weight='0.260474' id='203'></font></font><font color='#00ecff' weight='0.231614' id='206'>toArray<font color='#00fff4' weight='0.260474' id='205'></font></font></font><font color='#3aff00' weight='0.557588' id='229'>(<font color='#05ff00' weight='0.505343' id='227'><font color='#ff5e00' weight='0.907078' id='226'><font color='#00cfff' weight='0.203064' id='209'>new<font color='#00fff4' weight='0.260474' id='208'></font> </font><font color='#43ff00' weight='0.566368' id='225'><font color='#00e7ff' weight='0.226905' id='211'>IRegularNode<font color='#00fff4' weight='0.260474' id='210'></font></font><font color='#00ff00' weight='0.499541' id='224'>[<font color='#00ffc2' weight='0.309026' id='222'><font color='#ffda00' weight='0.785598' id='221'><font color='#53ff00' weight='0.581401' id='218'><font color='#00f9ff' weight='0.244264' id='213'>topologicalSort<font color='#00fff4' weight='0.260474' id='212'></font></font><font color='#00dbff' weight='0.215089' id='215'>.<font color='#00fff4' weight='0.260474' id='214'></font></font><font color='#00f9ff' weight='0.244264' id='217'>size<font color='#00fff4' weight='0.260474' id='216'></font></font></font><font color='#00e6ff' weight='0.226433' id='220'>()<font color='#00fff4' weight='0.260474' id='219'></font></font></font>]</font><font color='#00fff4' weight='0.260474' id='223'></font></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='228'></font></font></font>;</font><font color='#00fff4' weight='0.260474' id='232'></font>
  }</font><font color='#00fff4' weight='0.260474' id='234'></font></font>

  </font><font color='#00ecff' weight='0.231552' id='238'>private<font color='#00fff4' weight='0.260474' id='237'></font> </font><font color='#00ecff' weight='0.231552' id='240'>static<font color='#00fff4' weight='0.260474' id='239'></font> </font><font color='#00ceff' weight='0.202625' id='243'><font color='#00ff6e' weight='0.392025' id='242'>void<font color='#00fff4' weight='0.260474' id='241'></font></font> </font><font color='#00ceff' weight='0.202372' id='245'>sortIntoSetRecursively<font color='#00fff4' weight='0.260474' id='244'></font></font><font color='#00ffb3' weight='0.324129' id='267'>(<font color='#00ffe1' weight='0.279044' id='252'><font color='#71ff00' weight='0.61149' id='251'><font color='#00ff8e' weight='0.359855' id='248'><font color='#00ff1d' weight='0.470639' id='247'>ISimpleNode<font color='#00fff4' weight='0.260474' id='246'></font></font> </font><font color='#00ffdf' weight='0.280987' id='250'>node<font color='#00fff4' weight='0.260474' id='249'></font></font></font>, </font><font color='#00ffb0' weight='0.326788' id='265'><font color='#c5ff00' weight='0.693274' id='264'><font color='#13ff00' weight='0.51865' id='261'><font color='#ff6700' weight='0.898509' id='260'><font color='#00ffe1' weight='0.278955' id='254'>List<font color='#00fff4' weight='0.260474' id='253'></font></font><font color='#27ff00' weight='0.538641' id='259'>&lt;<font color='#00ffb4' weight='0.322722' id='257'><font color='#00ff30' weight='0.452073' id='256'>ISimpleNode<font color='#00fff4' weight='0.260474' id='255'></font></font>&gt;</font><font color='#00fff4' weight='0.260474' id='258'></font></font></font> </font><font color='#00f6ff' weight='0.241686' id='263'>topologicalSort<font color='#00fff4' weight='0.260474' id='262'></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='266'></font> </font><font color='#008aff' weight='0.136045' id='353'>{
    <font color='#00ff87' weight='0.366734' id='307'>for <font color='#00c7ff' weight='0.195698' id='288'>(<font color='#00ff66' weight='0.399097' id='286'><font color='#ddff00' weight='0.717211' id='285'><font color='#00f1ff' weight='0.237194' id='270'><font color='#00ff5c' weight='0.409309' id='269'>ISimpleNode<font color='#00fff4' weight='0.260474' id='268'></font></font> </font><font color='#00e0ff' weight='0.219657' id='272'>child<font color='#00fff4' weight='0.260474' id='271'></font> </font><font color='#00ff6b' weight='0.395029' id='284'>: <font color='#30ff00' weight='0.547251' id='283'><font color='#ff0000' weight='1' id='282'><font color='#9bff00' weight='0.652869' id='279'><font color='#00fdff' weight='0.248234' id='274'>node<font color='#00fff4' weight='0.260474' id='273'></font></font><font color='#00dfff' weight='0.21906' id='276'>.<font color='#00fff4' weight='0.260474' id='275'></font></font><font color='#00fdff' weight='0.248234' id='278'>getChildren<font color='#00fff4' weight='0.260474' id='277'></font></font></font><font color='#00f3ff' weight='0.238345' id='281'>()<font color='#00fff4' weight='0.260474' id='280'></font></font></font></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='287'></font> </font><font color='#00ffd4' weight='0.291492' id='306'>{
      <font color='#00ff21' weight='0.467243' id='304'><font color='#00ffc5' weight='0.30631' id='302'><font color='#ffd100' weight='0.79431' id='301'><font color='#00f7ff' weight='0.242599' id='290'>sortIntoSetRecursively<font color='#00fff4' weight='0.260474' id='289'></font></font><font color='#00ff33' weight='0.449722' id='300'>(<font color='#00f7ff' weight='0.242602' id='294'><font color='#29ff00' weight='0.540331' id='293'><font color='#3eff00' weight='0.560878' id='292'>child<font color='#00fff4' weight='0.260474' id='291'></font></font></font>, </font><font color='#00f7ff' weight='0.242602' id='298'><font color='#29ff00' weight='0.540331' id='297'><font color='#3eff00' weight='0.560878' id='296'>topologicalSort<font color='#00fff4' weight='0.260474' id='295'></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='299'></font></font></font>;</font><font color='#00fff4' weight='0.260474' id='303'></font>
    }</font><font color='#00fff4' weight='0.260474' id='305'></font></font>
    </font><font color='#00fff9' weight='0.254939' id='351'>if <font color='#00ffb5' weight='0.321744' id='326'>(<font color='#00ff12' weight='0.48222' id='324'><font color='#00c5ff' weight='0.193552' id='309'>!<font color='#00fff4' weight='0.260474' id='308'></font></font><font color='#76ff00' weight='0.615891' id='323'><font color='#00ff39' weight='0.443491' id='316'><font color='#00f1ff' weight='0.236602' id='311'>topologicalSort<font color='#00fff4' weight='0.260474' id='310'></font></font><font color='#00d3ff' weight='0.207428' id='313'>.<font color='#00fff4' weight='0.260474' id='312'></font></font><font color='#00f1ff' weight='0.236602' id='315'>contains<font color='#00fff4' weight='0.260474' id='314'></font></font></font><font color='#00ff76' weight='0.383814' id='322'>(<font color='#00ffa1' weight='0.341245' id='320'><font color='#6cff00' weight='0.606094' id='319'><font color='#5fff00' weight='0.593759' id='318'>node<font color='#00fff4' weight='0.260474' id='317'></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='321'></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='325'></font></font><font color='#00ffd7' weight='0.288514' id='350'> <font color='#78ff00' weight='0.618396' id='349'>{
      <font color='#7cff00' weight='0.622101' id='347'><font color='#00ff73' weight='0.386736' id='345'><font color='#ff7900' weight='0.880599' id='344'><font color='#00ff35' weight='0.447142' id='333'><font color='#00f1ff' weight='0.236805' id='328'>topologicalSort<font color='#00fff4' weight='0.260474' id='327'></font></font><font color='#00d3ff' weight='0.20763' id='330'>.<font color='#00fff4' weight='0.260474' id='329'></font></font><font color='#00f1ff' weight='0.236805' id='332'>add<font color='#00fff4' weight='0.260474' id='331'></font></font></font><font color='#00ff89' weight='0.365413' id='343'>(<font color='#00edff' weight='0.233234' id='337'><font color='#00ff18' weight='0.475732' id='336'><font color='#00ff77' weight='0.38269' id='335'>0<font color='#00fff4' weight='0.260474' id='334'></font></font></font>, </font><font color='#00edff' weight='0.233234' id='341'><font color='#22ff00' weight='0.534086' id='340'><font color='#3aff00' weight='0.557755' id='339'>node<font color='#00fff4' weight='0.260474' id='338'></font></font></font>)</font><font color='#00fff4' weight='0.260474' id='342'></font></font></font>;</font><font color='#00fff4' weight='0.260474' id='346'></font>
    }</font><font color='#00fff4' weight='0.260474' id='348'></font></font></font>
  }</font><font color='#00fff4' weight='0.260474' id='352'></font></font>
}<font color='#00fff4' weight='0.260474' id='355'></font></font></font></font></font>
</pre>
