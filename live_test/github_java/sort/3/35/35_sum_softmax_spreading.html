<pre style='background-color:blue;'>
<font color='blue'>
<font color='#00f8ff' weight='0.243312' id='358'><font color='#00ebff' weight='0.230948' id='21'>package <font color='#00ff0b' weight='0.488496' id='19'><font color='#0009ff' weight='0.00957331' id='2'>net<font color='#001aff' weight='0.0260556' id='1'></font></font><font color='#001aff' weight='0.0260556' id='4'>.<font color='#002bff' weight='0.0425379' id='3'></font></font><font color='#0009ff' weight='0.00957331' id='6'>sf<font color='#001aff' weight='0.0260556' id='5'></font></font><font color='#001aff' weight='0.0260556' id='8'>.<font color='#002bff' weight='0.0425379' id='7'></font></font><font color='#0009ff' weight='0.00957331' id='10'>anathema<font color='#001aff' weight='0.0260556' id='9'></font></font><font color='#001aff' weight='0.0260556' id='12'>.<font color='#002bff' weight='0.0425379' id='11'></font></font><font color='#0009ff' weight='0.00957331' id='14'>graph<font color='#001aff' weight='0.0260556' id='13'></font></font><font color='#001aff' weight='0.0260556' id='16'>.<font color='#002bff' weight='0.0425379' id='15'></font></font><font color='#0009ff' weight='0.00957331' id='18'>layering<font color='#001aff' weight='0.0260556' id='17'></font></font>;</font><font color='#005eff' weight='0.0929034' id='20'></font>

</font><font color='#00fff9' weight='0.255676' id='46'>import <font color='#09ff00' weight='0.509101' id='44'>net<font color='#0010ff' weight='0.0164823' id='22'></font><font color='#0010ff' weight='0.0164823' id='25'>.<font color='#0021ff' weight='0.0329646' id='24'></font></font>sf<font color='#0010ff' weight='0.0164823' id='26'></font><font color='#0010ff' weight='0.0164823' id='29'>.<font color='#0021ff' weight='0.0329646' id='28'></font></font>anathema<font color='#0010ff' weight='0.0164823' id='30'></font><font color='#0010ff' weight='0.0164823' id='33'>.<font color='#0021ff' weight='0.0329646' id='32'></font></font>graph<font color='#0010ff' weight='0.0164823' id='34'></font><font color='#0010ff' weight='0.0164823' id='37'>.<font color='#0021ff' weight='0.0329646' id='36'></font></font>nodes<font color='#0010ff' weight='0.0164823' id='38'></font><font color='#0010ff' weight='0.0164823' id='41'>.<font color='#0021ff' weight='0.0329646' id='40'></font></font>IRegularNode<font color='#0010ff' weight='0.0164823' id='42'></font>;</font><font color='#006bff' weight='0.105267' id='45'></font>
</font><font color='#00fff9' weight='0.255676' id='71'>import <font color='#09ff00' weight='0.509101' id='69'>net<font color='#0010ff' weight='0.0164823' id='47'></font><font color='#0010ff' weight='0.0164823' id='50'>.<font color='#0021ff' weight='0.0329646' id='49'></font></font>sf<font color='#0010ff' weight='0.0164823' id='51'></font><font color='#0010ff' weight='0.0164823' id='54'>.<font color='#0021ff' weight='0.0329646' id='53'></font></font>anathema<font color='#0010ff' weight='0.0164823' id='55'></font><font color='#0010ff' weight='0.0164823' id='58'>.<font color='#0021ff' weight='0.0329646' id='57'></font></font>graph<font color='#0010ff' weight='0.0164823' id='59'></font><font color='#0010ff' weight='0.0164823' id='62'>.<font color='#0021ff' weight='0.0329646' id='61'></font></font>nodes<font color='#0010ff' weight='0.0164823' id='63'></font><font color='#0010ff' weight='0.0164823' id='66'>.<font color='#0021ff' weight='0.0329646' id='65'></font></font>ISimpleNode<font color='#0010ff' weight='0.0164823' id='67'></font>;</font><font color='#006bff' weight='0.105267' id='70'></font>

</font><font color='#00fff9' weight='0.255676' id='84'>import <font color='#00ff0f' weight='0.484377' id='82'><font color='#003cff' weight='0.0591142' id='73'>java<font color='#004dff' weight='0.0755965' id='72'></font></font><font color='#004dff' weight='0.0755965' id='75'>.<font color='#005dff' weight='0.0920788' id='74'></font></font><font color='#003cff' weight='0.0591142' id='77'>util<font color='#004dff' weight='0.0755965' id='76'></font></font><font color='#004dff' weight='0.0755965' id='79'>.<font color='#005dff' weight='0.0920788' id='78'></font></font><font color='#003cff' weight='0.0591142' id='81'>ArrayList<font color='#004dff' weight='0.0755965' id='80'></font></font>;</font><font color='#006bff' weight='0.105267' id='83'></font>
</font><font color='#00fff9' weight='0.255676' id='97'>import <font color='#00ff0f' weight='0.484377' id='95'><font color='#003cff' weight='0.0591142' id='86'>java<font color='#004dff' weight='0.0755965' id='85'></font></font><font color='#004dff' weight='0.0755965' id='88'>.<font color='#005dff' weight='0.0920788' id='87'></font></font><font color='#003cff' weight='0.0591142' id='90'>util<font color='#004dff' weight='0.0755965' id='89'></font></font><font color='#004dff' weight='0.0755965' id='92'>.<font color='#005dff' weight='0.0920788' id='91'></font></font><font color='#003cff' weight='0.0591142' id='94'>List<font color='#004dff' weight='0.0755965' id='93'></font></font>;</font><font color='#006bff' weight='0.105267' id='96'></font>

</font><font color='#00ffbe' weight='0.313364' id='357'><font color='#003dff' weight='0.0606252' id='99'>public<font color='#004eff' weight='0.0771075' id='98'></font> class </font><font color='#004eff' weight='0.0771075' id='101'>TopologyBuilder<font color='#005fff' weight='0.0935898' id='100'></font> </font><font color='#0091ff' weight='0.143041' id='356'>{

  <font color='#00ff77' weight='0.382961' id='236'><font color='#0007ff' weight='0.00697976' id='103'>public<font color='#0017ff' weight='0.0234621' id='102'></font> </font><font color='#0007ff' weight='0.00697976' id='105'>static<font color='#0017ff' weight='0.0234621' id='104'></font> </font><font color='#008dff' weight='0.138842' id='111'><font color='#00ff0f' weight='0.484984' id='110'><font color='#00e8ff' weight='0.228162' id='107'>IRegularNode<font color='#00f9ff' weight='0.244645' id='106'></font></font><font color='#00f1ff' weight='0.236404' id='109'>[]<font color='#00fffc' weight='0.252886' id='108'></font></font></font> </font><font color='#0017ff' weight='0.0234621' id='113'>sortGraphByTopology<font color='#0028ff' weight='0.0399444' id='112'></font></font><font color='#00d9ff' weight='0.213017' id='125'>(<font color='#0090ff' weight='0.14163' id='123'><font color='#00ffa3' weight='0.339427' id='122'><font color='#00ffe9' weight='0.270764' id='119'><font color='#77ff00' weight='0.616906' id='118'><font color='#00ffd1' weight='0.294123' id='115'>IRegularNode<font color='#00ffc1' weight='0.310606' id='114'></font></font><font color='#00ffc9' weight='0.302364' id='117'>[]<font color='#00ffb8' weight='0.318847' id='116'></font></font></font> </font><font color='#009eff' weight='0.155384' id='121'>acyclicGraph<font color='#00afff' weight='0.171866' id='120'></font></font></font>)</font><font color='#0055ff' weight='0.0839379' id='124'></font> </font><font color='#00ffaf' weight='0.328398' id='235'>{
    <font color='#0096ff' weight='0.147142' id='151'><font color='#00ffb4' weight='0.322971' id='149'><font color='#00c7ff' weight='0.19569' id='134'><font color='#7eff00' weight='0.624247' id='133'><font color='#00ffce' weight='0.297794' id='127'>List<font color='#00ffbd' weight='0.314277' id='126'></font></font><font color='#00ff26' weight='0.462626' id='132'>&lt;<font color='#00ffb3' weight='0.324123' id='130'><font color='#00ff9a' weight='0.348846' id='129'>ISimpleNode<font color='#00ff89' weight='0.365328' id='128'></font></font>&gt;</font><font color='#00d4ff' weight='0.208742' id='131'></font></font></font> </font><font color='#0051ff' weight='0.0803099' id='136'>topologicalSort<font color='#0062ff' weight='0.0967922' id='135'></font> </font><font color='#0073ff' weight='0.113279' id='148'>= <font color='#00ff07' weight='0.492389' id='147'><font color='#00fdff' weight='0.248347' id='138'>new<font color='#00ffef' weight='0.26483' id='137'></font> </font><font color='#4fff00' weight='0.578006' id='146'><font color='#b6ff00' weight='0.678507' id='143'><font color='#00ffb2' weight='0.324924' id='140'>ArrayList<font color='#00ffa1' weight='0.341406' id='139'></font></font><font color='#00ff99' weight='0.349648' id='142'>&lt;&gt;<font color='#00ff88' weight='0.36613' id='141'></font></font></font><font color='#00ffcc' weight='0.299397' id='145'>()<font color='#00ffbb' weight='0.315879' id='144'></font></font></font></font></font>;</font><font color='#0034ff' weight='0.0510001' id='150'></font>
    </font><font color='#00ff4a' weight='0.427354' id='200'>for <font color='#00ff3e' weight='0.438349' id='164'>(<font color='#00ffd8' weight='0.287261' id='162'><font color='#55ff00' weight='0.583955' id='161'><font color='#00ffdd' weight='0.282685' id='154'><font color='#00ffc4' weight='0.307409' id='153'>IRegularNode<font color='#00ffb3' weight='0.323891' id='152'></font></font> </font><font color='#00aaff' weight='0.167305' id='156'>node<font color='#00bbff' weight='0.183787' id='155'></font> </font><font color='#00ffbc' weight='0.315654' id='160'>: <font color='#adff00' weight='0.670036' id='159'><font color='#c6ff00' weight='0.69476' id='158'>acyclicGraph<font color='#d7ff00' weight='0.711242' id='157'></font></font></font></font></font>)</font><font color='#00c8ff' weight='0.196604' id='163'></font> </font><font color='#00ffa3' weight='0.339455' id='199'>{
      <font color='#00ff63' weight='0.402646' id='197'>if <font color='#00ffc1' weight='0.310615' id='177'>(<font color='#00ff47' weight='0.429431' id='175'><font color='#ffcb00' weight='0.800296' id='174'><font color='#e4ff00' weight='0.723719' id='171'><font color='#00daff' weight='0.213892' id='166'>node<font color='#00eaff' weight='0.230375' id='165'></font></font><font color='#00eaff' weight='0.230375' id='168'>.<font color='#00fbff' weight='0.246857' id='167'></font></font><font color='#00daff' weight='0.213892' id='170'>isRootNode<font color='#00eaff' weight='0.230375' id='169'></font></font></font><font color='#00ff5b' weight='0.410542' id='173'>()<font color='#00ff4a' weight='0.427024' id='172'></font></font></font>)</font><font color='#0087ff' weight='0.132737' id='176'></font></font><font color='#00ffe2' weight='0.27765' id='196'> <font color='#00ff29' weight='0.458964' id='195'>{
        <font color='#00ff9c' weight='0.347015' id='193'><font color='#00ff35' weight='0.447631' id='191'><font color='#ffb900' weight='0.818496' id='190'><font color='#00ff6b' weight='0.394919' id='179'>sortIntoSetRecursively<font color='#00ff5a' weight='0.411401' id='178'></font></font><font color='#66ff00' weight='0.600956' id='189'>(<font color='#00ebff' weight='0.230664' id='183'><font color='#56ff00' weight='0.585046' id='182'><font color='#6fff00' weight='0.60977' id='181'>node<font color='#80ff00' weight='0.626252' id='180'></font></font></font>, </font><font color='#00ebff' weight='0.230664' id='187'><font color='#56ff00' weight='0.585046' id='186'><font color='#6fff00' weight='0.60977' id='185'>topologicalSort<font color='#80ff00' weight='0.626252' id='184'></font></font></font>)</font><font color='#00a8ff' weight='0.16473' id='188'></font></font></font>;</font><font color='#0099ff' weight='0.150937' id='192'></font>
      }</font><font color='#00d3ff' weight='0.206912' id='194'></font></font></font>
    }</font><font color='#0096ff' weight='0.147157' id='198'></font></font>
    </font><font color='#005bff' weight='0.0894535' id='233'>return <font color='#00ffb8' weight='0.31885' id='231'><font color='#c1ff00' weight='0.689715' id='230'><font color='#abff00' weight='0.668428' id='207'><font color='#00c7ff' weight='0.195462' id='202'>topologicalSort<font color='#00d8ff' weight='0.211945' id='201'></font></font><font color='#00d8ff' weight='0.211945' id='204'>.<font color='#00e8ff' weight='0.228427' id='203'></font></font><font color='#00c7ff' weight='0.195462' id='206'>toArray<font color='#00d8ff' weight='0.211945' id='205'></font></font></font><font color='#00ff04' weight='0.49536' id='229'>(<font color='#00ffd5' weight='0.291043' id='227'><font color='#61ff00' weight='0.595978' id='226'><font color='#00ffcb' weight='0.300142' id='209'>new<font color='#00ffbb' weight='0.316624' id='208'></font> </font><font color='#6bff00' weight='0.605077' id='225'><font color='#00ffd8' weight='0.288209' id='211'>IRegularNode<font color='#00ffc7' weight='0.304692' id='210'></font></font><font color='#00ff1f' weight='0.469523' id='224'>[<font color='#09ff00' weight='0.508885' id='222'><font color='#ff7a00' weight='0.87975' id='221'><font color='#fff100' weight='0.763446' id='218'><font color='#00e7ff' weight='0.227135' id='213'>topologicalSort<font color='#00f8ff' weight='0.243617' id='212'></font></font><font color='#00f8ff' weight='0.243617' id='215'>.<font color='#00fff4' weight='0.260099' id='214'></font></font><font color='#00e7ff' weight='0.227135' id='217'>size<font color='#00f8ff' weight='0.243617' id='216'></font></font></font><font color='#00ff32' weight='0.450269' id='220'>()<font color='#00ff21' weight='0.466751' id='219'></font></font></font>]</font><font color='#00d8ff' weight='0.212191' id='223'></font></font></font></font>)</font><font color='#00e5ff' weight='0.225109' id='228'></font></font></font>;</font><font color='#0016ff' weight='0.0221561' id='232'></font>
  }</font><font color='#0028ff' weight='0.0400023' id='234'></font></font>

  </font><font color='#00ff77' weight='0.382961' id='354'><font color='#0007ff' weight='0.00697976' id='238'>private<font color='#0017ff' weight='0.0234621' id='237'></font> </font><font color='#0007ff' weight='0.00697976' id='240'>static<font color='#0017ff' weight='0.0234621' id='239'></font> </font><font color='#008dff' weight='0.138842' id='243'><font color='#00a6ff' weight='0.163566' id='242'>void<font color='#00b7ff' weight='0.180048' id='241'></font></font> </font><font color='#0017ff' weight='0.0234621' id='245'>sortIntoSetRecursively<font color='#0028ff' weight='0.0399444' id='244'></font></font><font color='#00faff' weight='0.245982' id='267'>(<font color='#006aff' weight='0.104098' id='252'><font color='#00ffca' weight='0.301894' id='251'><font color='#00fffc' weight='0.251998' id='248'><font color='#00ffe3' weight='0.276722' id='247'>ISimpleNode<font color='#00ffd2' weight='0.293204' id='246'></font></font> </font><font color='#008bff' weight='0.136618' id='250'>node<font color='#009cff' weight='0.1531' id='249'></font></font></font>, </font><font color='#006aff' weight='0.104098' id='265'><font color='#00ffca' weight='0.301894' id='264'><font color='#00fffc' weight='0.251998' id='261'><font color='#b8ff00' weight='0.680555' id='260'><font color='#00ffb1' weight='0.325948' id='254'>List<font color='#00ffa0' weight='0.34243' id='253'></font></font><font color='#00ff09' weight='0.49078' id='259'>&lt;<font color='#00ffa5' weight='0.3382' id='257'><font color='#00ff8b' weight='0.362923' id='256'>ISimpleNode<font color='#00ff7b' weight='0.379405' id='255'></font></font>&gt;</font><font color='#00e3ff' weight='0.222819' id='258'></font></font></font> </font><font color='#008bff' weight='0.136618' id='263'>topologicalSort<font color='#009cff' weight='0.1531' id='262'></font></font></font>)</font><font color='#002fff' weight='0.0464056' id='266'></font> </font><font color='#00f2ff' weight='0.237741' id='353'>{
    <font color='#00ff46' weight='0.43101' id='307'>for <font color='#00ff3d' weight='0.440177' id='288'>(<font color='#00ffd8' weight='0.288175' id='286'><font color='#56ff00' weight='0.584869' id='285'><font color='#00ffdd' weight='0.28299' id='270'><font color='#00ffc4' weight='0.307713' id='269'>ISimpleNode<font color='#00ffb3' weight='0.324196' id='268'></font></font> </font><font color='#00aaff' weight='0.167609' id='272'>child<font color='#00bbff' weight='0.184092' id='271'></font> </font><font color='#00ffbb' weight='0.315959' id='284'>: <font color='#83ff00' weight='0.629135' id='283'><font color='#ff0000' weight='1' id='282'><font color='#ffb300' weight='0.823571' id='279'><font color='#00fcff' weight='0.247176' id='274'>node<font color='#00fff1' weight='0.263659' id='273'></font></font><font color='#00fff1' weight='0.263659' id='276'>.<font color='#00ffe0' weight='0.280141' id='275'></font></font><font color='#00fcff' weight='0.247176' id='278'>getChildren<font color='#00fff1' weight='0.263659' id='277'></font></font></font><font color='#0aff00' weight='0.510394' id='281'>()<font color='#1bff00' weight='0.526876' id='280'></font></font></font></font></font></font>)</font><font color='#00c9ff' weight='0.197518' id='287'></font> </font><font color='#00ff91' weight='0.357766' id='306'>{
      <font color='#00ffcf' weight='0.296416' id='304'><font color='#00ff4f' weight='0.422332' id='302'><font color='#ffd200' weight='0.793197' id='301'><font color='#00ff78' weight='0.382269' id='290'>sortIntoSetRecursively<font color='#00ff67' weight='0.398751' id='289'></font></font><font color='#5aff00' weight='0.588306' id='300'>(<font color='#00e6ff' weight='0.226447' id='294'><font color='#52ff00' weight='0.58083' id='293'><font color='#6bff00' weight='0.605553' id='292'>child<font color='#7cff00' weight='0.622035' id='291'></font></font></font>, </font><font color='#00e6ff' weight='0.226447' id='298'><font color='#52ff00' weight='0.58083' id='297'><font color='#6bff00' weight='0.605553' id='296'>topologicalSort<font color='#7cff00' weight='0.622035' id='295'></font></font></font>)</font><font color='#00a3ff' weight='0.160514' id='299'></font></font></font>;</font><font color='#0080ff' weight='0.125637' id='303'></font>
    }</font><font color='#009fff' weight='0.156312' id='305'></font></font>
    </font><font color='#00ffcc' weight='0.299147' id='351'>if <font color='#00fff5' weight='0.258866' id='326'>(<font color='#00ff1f' weight='0.46949' id='324'><font color='#00f1ff' weight='0.236898' id='309'>!<font color='#00fffb' weight='0.25338' id='308'></font></font><font color='#43ff00' weight='0.566557' id='323'><font color='#6cff00' weight='0.606849' id='316'><font color='#00b2ff' weight='0.174936' id='311'>topologicalSort<font color='#00c3ff' weight='0.191418' id='310'></font></font><font color='#00c3ff' weight='0.191418' id='313'>.<font color='#00d4ff' weight='0.2079' id='312'></font></font><font color='#00b2ff' weight='0.174936' id='315'>contains<font color='#00c3ff' weight='0.191418' id='314'></font></font></font><font color='#00ff43' weight='0.433781' id='322'>(<font color='#00fff4' weight='0.260253' id='320'><font color='#74ff00' weight='0.614636' id='319'><font color='#8eff00' weight='0.639359' id='318'>node<font color='#9eff00' weight='0.655841' id='317'></font></font></font>)</font><font color='#00c6ff' weight='0.19432' id='321'></font></font></font>)</font><font color='#006cff' weight='0.106862' id='325'></font></font><font color='#00e6ff' weight='0.225901' id='350'> <font color='#00ff5e' weight='0.407215' id='349'>{
      <font color='#00ffb6' weight='0.321141' id='347'><font color='#00ff42' weight='0.434694' id='345'><font color='#ffc600' weight='0.805559' id='344'><font color='#e6ff00' weight='0.72635' id='333'><font color='#00dbff' weight='0.21477' id='328'>topologicalSort<font color='#00ebff' weight='0.231252' id='327'></font></font><font color='#00ebff' weight='0.231252' id='330'>.<font color='#00fcff' weight='0.247734' id='329'></font></font><font color='#00dbff' weight='0.21477' id='332'>add<font color='#00ebff' weight='0.231252' id='331'></font></font></font><font color='#60ff00' weight='0.594487' id='343'>(<font color='#00e9ff' weight='0.228508' id='337'><font color='#00ff31' weight='0.451027' id='336'><font color='#32ff00' weight='0.549926' id='335'>0<font color='#43ff00' weight='0.566408' id='334'></font></font></font>, </font><font color='#00e9ff' weight='0.228508' id='341'><font color='#54ff00' weight='0.58289' id='340'><font color='#6dff00' weight='0.607614' id='339'>node<font color='#7eff00' weight='0.624096' id='338'></font></font></font>)</font><font color='#00a5ff' weight='0.162574' id='342'></font></font></font>;</font><font color='#008cff' weight='0.138' id='346'></font>
    }</font><font color='#00b8ff' weight='0.181037' id='348'></font></font></font>
  }</font><font color='#002cff' weight='0.0436586' id='352'></font></font>
}</font><font color='#000cff' weight='0.012092' id='355'></font></font></font></font></font>
</pre>
