<pre style='background-color:blue;'>
<font color='blue'>
<font color='#0037ff' weight='0.0542791' id='358'><font color='#00a7ff' weight='0.164227' id='21'>package <font color='#0035ff' weight='0.0529384' id='19'><font color='#006cff' weight='0.105975' id='2'>net<font color='#00ff9b' weight='0.347323' id='1'></font></font><font color='#005bff' weight='0.0898867' id='4'>.<font color='#00ffac' weight='0.331234' id='3'></font></font><font color='#006cff' weight='0.105975' id='6'>sf<font color='#00ff9b' weight='0.347323' id='5'></font></font><font color='#005bff' weight='0.0898867' id='8'>.<font color='#00ffac' weight='0.331234' id='7'></font></font><font color='#006cff' weight='0.105975' id='10'>anathema<font color='#00ff9b' weight='0.347323' id='9'></font></font><font color='#005bff' weight='0.0898867' id='12'>.<font color='#00ffac' weight='0.331234' id='11'></font></font><font color='#006cff' weight='0.105975' id='14'>graph<font color='#00ff9b' weight='0.347323' id='13'></font></font><font color='#005bff' weight='0.0898867' id='16'>.<font color='#00ffac' weight='0.331234' id='15'></font></font><font color='#006cff' weight='0.105975' id='18'>layering<font color='#00ff9b' weight='0.347323' id='17'></font></font>;</font><font color='#00fff2' weight='0.262107' id='20'></font>

</font><font color='#00a7ff' weight='0.164227' id='46'>import <font color='#0025ff' weight='0.0368501' id='44'><font color='#0066ff' weight='0.100964' id='23'>net<font color='#00ffa0' weight='0.342312' id='22'></font></font><font color='#0056ff' weight='0.0848757' id='25'>.<font color='#00ffb1' weight='0.326223' id='24'></font></font><font color='#0066ff' weight='0.100964' id='27'>sf<font color='#00ffa0' weight='0.342312' id='26'></font></font><font color='#0056ff' weight='0.0848757' id='29'>.<font color='#00ffb1' weight='0.326223' id='28'></font></font><font color='#0066ff' weight='0.100964' id='31'>anathema<font color='#00ffa0' weight='0.342312' id='30'></font></font><font color='#0056ff' weight='0.0848757' id='33'>.<font color='#00ffb1' weight='0.326223' id='32'></font></font><font color='#0066ff' weight='0.100964' id='35'>graph<font color='#00ffa0' weight='0.342312' id='34'></font></font><font color='#0056ff' weight='0.0848757' id='37'>.<font color='#00ffb1' weight='0.326223' id='36'></font></font><font color='#0066ff' weight='0.100964' id='39'>nodes<font color='#00ffa0' weight='0.342312' id='38'></font></font><font color='#0056ff' weight='0.0848757' id='41'>.<font color='#00ffb1' weight='0.326223' id='40'></font></font><font color='#0066ff' weight='0.100964' id='43'>IRegularNode<font color='#00ffa0' weight='0.342312' id='42'></font></font>;</font><font color='#00fff2' weight='0.262107' id='45'></font>
</font><font color='#00a7ff' weight='0.164227' id='71'>import <font color='#0025ff' weight='0.0368501' id='69'><font color='#0066ff' weight='0.100964' id='48'>net<font color='#00ffa0' weight='0.342312' id='47'></font></font><font color='#0056ff' weight='0.0848757' id='50'>.<font color='#00ffb1' weight='0.326223' id='49'></font></font><font color='#0066ff' weight='0.100964' id='52'>sf<font color='#00ffa0' weight='0.342312' id='51'></font></font><font color='#0056ff' weight='0.0848757' id='54'>.<font color='#00ffb1' weight='0.326223' id='53'></font></font><font color='#0066ff' weight='0.100964' id='56'>anathema<font color='#00ffa0' weight='0.342312' id='55'></font></font><font color='#0056ff' weight='0.0848757' id='58'>.<font color='#00ffb1' weight='0.326223' id='57'></font></font><font color='#0066ff' weight='0.100964' id='60'>graph<font color='#00ffa0' weight='0.342312' id='59'></font></font><font color='#0056ff' weight='0.0848757' id='62'>.<font color='#00ffb1' weight='0.326223' id='61'></font></font><font color='#0066ff' weight='0.100964' id='64'>nodes<font color='#00ffa0' weight='0.342312' id='63'></font></font><font color='#0056ff' weight='0.0848757' id='66'>.<font color='#00ffb1' weight='0.326223' id='65'></font></font><font color='#0066ff' weight='0.100964' id='68'>ISimpleNode<font color='#00ffa0' weight='0.342312' id='67'></font></font>;</font><font color='#00fff2' weight='0.262107' id='70'></font>

</font><font color='#00a7ff' weight='0.164227' id='84'>import <font color='#0056ff' weight='0.0851179' id='82'><font color='#0082ff' weight='0.128024' id='73'>java<font color='#00ff85' weight='0.369372' id='72'></font></font><font color='#0072ff' weight='0.111936' id='75'>.<font color='#00ff95' weight='0.353283' id='74'></font></font><font color='#0082ff' weight='0.128024' id='77'>util<font color='#00ff85' weight='0.369372' id='76'></font></font><font color='#0072ff' weight='0.111936' id='79'>.<font color='#00ff95' weight='0.353283' id='78'></font></font><font color='#0082ff' weight='0.128024' id='81'>ArrayList<font color='#00ff85' weight='0.369372' id='80'></font></font>;</font><font color='#00fff2' weight='0.262107' id='83'></font>
</font><font color='#00a7ff' weight='0.164227' id='97'>import <font color='#0056ff' weight='0.0851179' id='95'><font color='#0082ff' weight='0.128024' id='86'>java<font color='#00ff85' weight='0.369372' id='85'></font></font><font color='#0072ff' weight='0.111936' id='88'>.<font color='#00ff95' weight='0.353283' id='87'></font></font><font color='#0082ff' weight='0.128024' id='90'>util<font color='#00ff85' weight='0.369372' id='89'></font></font><font color='#0072ff' weight='0.111936' id='92'>.<font color='#00ff95' weight='0.353283' id='91'></font></font><font color='#0082ff' weight='0.128024' id='94'>List<font color='#00ff85' weight='0.369372' id='93'></font></font>;</font><font color='#00fff2' weight='0.262107' id='96'></font>

</font><font color='#0086ff' weight='0.132048' id='357'><font color='#00bfff' weight='0.187469' id='99'>public<font color='#00ff48' weight='0.428816' id='98'></font> class </font><font color='#00aeff' weight='0.171378' id='101'>TopologyBuilder<font color='#00ff59' weight='0.412725' id='100'></font> </font><font color='#00cfff' weight='0.203557' id='356'>{

  <font color='#0023ff' weight='0.0343167' id='236'><font color='#0083ff' weight='0.128721' id='103'>public<font color='#00ff84' weight='0.370068' id='102'></font> </font><font color='#0083ff' weight='0.128721' id='105'>static<font color='#00ff84' weight='0.370068' id='104'></font> </font><font color='#0072ff' weight='0.11263' id='111'><font color='#00ffe6' weight='0.27353' id='110'><font color='#00ffdb' weight='0.284578' id='107'>IRegularNode<font color='#1aff00' weight='0.525926' id='106'></font></font><font color='#00fffc' weight='0.252399' id='109'>[]<font color='#00ff06' weight='0.493746' id='108'></font></font></font> </font><font color='#0072ff' weight='0.11263' id='113'>sortGraphByTopology<font color='#00ff94' weight='0.353977' id='112'></font></font><font color='#00a4ff' weight='0.1609' id='125'>(<font color='#00f9ff' weight='0.244355' id='123'><font color='#00ff1e' weight='0.469614' id='122'><font color='#00ff77' weight='0.38262' id='119'><font color='#2cff00' weight='0.543521' id='118'><font color='#00ff52' weight='0.419574' id='115'>IRegularNode<font color='#a4ff00' weight='0.660921' id='114'></font></font><font color='#00ff72' weight='0.387394' id='117'>[]<font color='#83ff00' weight='0.628742' id='116'></font></font></font> </font><font color='#00ff77' weight='0.38262' id='121'>acyclicGraph<font color='#7eff00' weight='0.623968' id='120'></font></font></font>)</font><font color='#00fff4' weight='0.260443' id='124'></font> </font>{
    <font color='#0087ff' weight='0.133227' id='151'><font color='#00caff' weight='0.198339' id='149'><font color='#00c5ff' weight='0.193475' id='134'><font color='#00ff32' weight='0.450913' id='133'><font color='#00ff81' weight='0.37327' id='127'>List<font color='#74ff00' weight='0.614618' id='126'></font></font><font color='#00ff70' weight='0.389361' id='132'>&lt;<font color='#00ffc1' weight='0.310314' id='130'><font color='#13ff00' weight='0.519483' id='129'>ISimpleNode<font color='#fff300' weight='0.76083' id='128'></font></font>&gt;</font><font color='#00ff7f' weight='0.374673' id='131'></font></font></font> </font><font color='#00c5ff' weight='0.193475' id='136'>topologicalSort<font color='#00ff42' weight='0.434822' id='135'></font> </font><font color='#00d5ff' weight='0.209566' id='148'>= <font color='#00ff32' weight='0.450913' id='147'><font color='#00ff91' weight='0.357182' id='138'>new<font color='#64ff00' weight='0.598529' id='137'></font> </font><font color='#00ff2f' weight='0.45372' id='146'><font color='#00ff4e' weight='0.422944' id='143'><font color='#00ff8f' weight='0.359285' id='140'>ArrayList<font color='#66ff00' weight='0.600633' id='139'></font></font><font color='#00ff9f' weight='0.343197' id='142'>&lt;&gt;<font color='#56ff00' weight='0.584545' id='141'></font></font></font><font color='#00ff90' weight='0.358585' id='145'>()<font color='#65ff00' weight='0.599933' id='144'></font></font></font></font></font>;</font><font color='#00fbff' weight='0.246606' id='150'></font>
    </font><font color='#00b9ff' weight='0.181495' id='200'>for <font color='#00a1ff' weight='0.158111' id='164'>(<font color='#00f7ff' weight='0.24296' id='162'><font color='#00ff41' weight='0.43604' id='161'><font color='#00ffe7' weight='0.272708' id='154'><font color='#00ff12' weight='0.481876' id='153'>IRegularNode<font color='#e3ff00' weight='0.723224' id='152'></font></font> </font><font color='#00ffe7' weight='0.272708' id='156'>node<font color='#0eff00' weight='0.514056' id='155'></font> </font><font color='#00ffe7' weight='0.272708' id='160'>: <font color='#0eff00' weight='0.514056' id='159'><font color='#e3ff00' weight='0.723224' id='158'>acyclicGraph<font color='#ff2400' weight='0.964571' id='157'></font></font></font></font></font>)</font><font color='#00fff5' weight='0.259048' id='163'></font> </font><font color='#0070ff' weight='0.109843' id='199'>{
      <font color='#00ceff' weight='0.202735' id='197'>if <font color='#00ffef' weight='0.265272' id='177'>(<font color='#00bbff' weight='0.183911' id='175'><font color='#00ff1b' weight='0.473529' id='174'><font color='#00ff54' weight='0.416757' id='171'><font color='#00ffee' weight='0.266281' id='166'>node<font color='#07ff00' weight='0.507628' id='165'></font></font><font color='#00fffe' weight='0.250193' id='168'>.<font color='#00ff08' weight='0.49154' id='167'></font></font><font color='#00ffee' weight='0.266281' id='170'>isRootNode<font color='#07ff00' weight='0.507628' id='169'></font></font></font><font color='#00ff86' weight='0.36849' id='173'>()<font color='#70ff00' weight='0.609837' id='172'></font></font></font>)</font><font color='#00ffbf' weight='0.312629' id='176'></font></font><font color='#00edff' weight='0.233092' id='196'> <font color='#00ff4b' weight='0.426172' id='195'>{
        <font color='#00ff6d' weight='0.393079' id='193'><font color='#00fcff' weight='0.247814' id='191'><font color='#26ff00' weight='0.537433' id='190'><font color='#00ff55' weight='0.41653' id='179'>sortIntoSetRecursively<font color='#a1ff00' weight='0.657877' id='178'></font></font><font color='#00ff96' weight='0.352171' id='189'>(<font color='#00e9ff' weight='0.228664' id='183'><font color='#00ff1e' weight='0.470011' id='182'><font color='#b6ff00' weight='0.679179' id='181'>node<font color='#ff5100' weight='0.920527' id='180'></font></font></font>, </font><font color='#00e9ff' weight='0.228664' id='187'><font color='#00ff1e' weight='0.470011' id='186'><font color='#b6ff00' weight='0.679179' id='185'>topologicalSort<font color='#ff5100' weight='0.920527' id='184'></font></font></font>)</font><font color='#00ffe3' weight='0.276931' id='188'></font></font></font>;</font><font color='#00ff7d' weight='0.376532' id='192'></font>
      }</font><font color='#00ff6d' weight='0.393079' id='194'></font></font></font>
    }</font><font color='#00efff' weight='0.234914' id='198'></font></font>
    </font><font color='#0077ff' weight='0.117136' id='233'>return <font color='#0070ff' weight='0.109843' id='231'><font color='#00ff66' weight='0.399461' id='230'><font color='#00ff7a' weight='0.379723' id='207'><font color='#00fffa' weight='0.253936' id='202'>topologicalSort<font color='#00ff04' weight='0.495284' id='201'></font></font><font color='#00f2ff' weight='0.237848' id='204'>.<font color='#00ff15' weight='0.479195' id='203'></font></font><font color='#00fffa' weight='0.253936' id='206'>toArray<font color='#00ff04' weight='0.495284' id='205'></font></font></font><font color='#00ff8b' weight='0.363635' id='229'>(<font color='#00ffbe' weight='0.313543' id='227'><font color='#37ff00' weight='0.55489' id='226'><font color='#00ff5c' weight='0.40917' id='209'>new<font color='#99ff00' weight='0.650518' id='208'></font> </font><font color='#00ff7d' weight='0.376991' id='225'><font color='#00ffa6' weight='0.336309' id='211'>IRegularNode<font color='#4fff00' weight='0.577656' id='210'></font></font><font color='#00ffa6' weight='0.336309' id='224'>[<font color='#00dfff' weight='0.219429' id='222'><font color='#09ff00' weight='0.509047' id='221'><font color='#00ff42' weight='0.434517' id='218'><font color='#00ffe8' weight='0.272201' id='213'>topologicalSort<font color='#0dff00' weight='0.513548' id='212'></font></font><font color='#00fff8' weight='0.256112' id='215'>.<font color='#00ff02' weight='0.49746' id='214'></font></font><font color='#00ffe8' weight='0.272201' id='217'>size<font color='#0dff00' weight='0.513548' id='216'></font></font></font><font color='#00ff74' weight='0.386249' id='220'>()<font color='#82ff00' weight='0.627596' id='219'></font></font></font>]</font><font color='#00ff9a' weight='0.348147' id='223'></font></font></font></font>)</font><font color='#00ff8c' weight='0.36181' id='228'></font></font></font>;</font><font color='#00f3ff' weight='0.238561' id='232'></font>
  }</font><font color='#0098ff' weight='0.149315' id='234'></font>

  </font><font color='#0023ff' weight='0.0343167' id='354'><font color='#0083ff' weight='0.128721' id='238'>private<font color='#00ff84' weight='0.370068' id='237'></font> </font><font color='#0083ff' weight='0.128721' id='240'>static<font color='#00ff84' weight='0.370068' id='239'></font> </font><font color='#0072ff' weight='0.11263' id='243'><font color='#00ffb5' weight='0.321798' id='242'>void<font color='#40ff00' weight='0.563145' id='241'></font></font> </font><font color='#0072ff' weight='0.11263' id='245'>sortIntoSetRecursively<font color='#00ff94' weight='0.353977' id='244'></font></font><font color='#00b4ff' weight='0.176989' id='267'>(<font color='#00ceff' weight='0.202449' id='252'><font color='#00ff49' weight='0.427708' id='251'><font color='#00ff8d' weight='0.361668' id='248'><font color='#48ff00' weight='0.570836' id='247'>ISimpleNode<font color='#ffbf00' weight='0.812183' id='246'></font></font> </font><font color='#00ff8d' weight='0.361668' id='250'>node<font color='#69ff00' weight='0.603015' id='249'></font></font></font>, </font><font color='#00ceff' weight='0.202449' id='265'><font color='#00ff49' weight='0.427708' id='264'><font color='#00ff8d' weight='0.361668' id='261'><font color='#79ff00' weight='0.619106' id='260'><font color='#00ff2b' weight='0.457366' id='254'>List<font color='#caff00' weight='0.698714' id='253'></font></font><font color='#00ff1b' weight='0.473458' id='259'>&lt;<font color='#00ff96' weight='0.352363' id='257'><font color='#3eff00' weight='0.561531' id='256'>ISimpleNode<font color='#ffc900' weight='0.802878' id='255'></font></font>&gt;</font><font color='#00ff54' weight='0.416722' id='258'></font></font></font> </font><font color='#00ff8d' weight='0.361668' id='263'>topologicalSort<font color='#69ff00' weight='0.603015' id='262'></font></font></font>)</font><font color='#00deff' weight='0.218537' id='266'></font> </font><font color='#0041ff' weight='0.0643619' id='353'>{
    <font color='#00d9ff' weight='0.213175' id='307'>for <font color='#00b1ff' weight='0.173951' id='288'>(<font color='#00fffe' weight='0.25088' id='286'><font color='#00ff39' weight='0.44396' id='285'><font color='#00ffe5' weight='0.275348' id='270'><font color='#00ff0f' weight='0.484516' id='269'>ISimpleNode<font color='#e6ff00' weight='0.725864' id='268'></font></font> </font><font color='#00ffe5' weight='0.275348' id='272'>child<font color='#11ff00' weight='0.516696' id='271'></font> </font><font color='#00ffe5' weight='0.275348' id='284'>: <font color='#00ff72' weight='0.387978' id='283'><font color='#b5ff00' weight='0.677596' id='282'><font color='#13ff00' weight='0.518791' id='279'><font color='#00ffcb' weight='0.300292' id='274'>node<font color='#2aff00' weight='0.54164' id='273'></font></font><font color='#00ffdc' weight='0.284204' id='276'>.<font color='#1aff00' weight='0.525551' id='275'></font></font><font color='#00ffcb' weight='0.300292' id='278'>getChildren<font color='#2aff00' weight='0.54164' id='277'></font></font></font><font color='#00ff1e' weight='0.470523' id='281'>()<font color='#d8ff00' weight='0.711871' id='280'></font></font></font></font></font></font>)</font><font color='#00ffed' weight='0.266968' id='287'></font> </font><font color='#00f3ff' weight='0.238312' id='306'>{
      <font color='#00ffcc' weight='0.299149' id='304'><font color='#00ccff' weight='0.200849' id='302'><font color='#00ff09' weight='0.490468' id='301'><font color='#00ff6d' weight='0.393047' id='290'>sortIntoSetRecursively<font color='#89ff00' weight='0.634395' id='289'></font></font><font color='#00ffae' weight='0.328688' id='300'>(<font color='#00e1ff' weight='0.220836' id='294'><font color='#00ff26' weight='0.462184' id='293'><font color='#aeff00' weight='0.671352' id='292'>child<font color='#ff5900' weight='0.912699' id='291'></font></font></font>, </font><font color='#00e1ff' weight='0.220836' id='298'><font color='#00ff26' weight='0.462184' id='297'><font color='#aeff00' weight='0.671352' id='296'>topologicalSort<font color='#ff5900' weight='0.912699' id='295'></font></font></font>)</font><font color='#00ffeb' weight='0.269104' id='299'></font></font></font>;</font><font color='#00ffad' weight='0.329567' id='303'></font>
    }</font><font color='#00ffcc' weight='0.299149' id='305'></font></font>
    </font><font color='#0097ff' weight='0.148816' id='351'>if <font color='#00f3ff' weight='0.238312' id='326'>(<font color='#00ffcc' weight='0.299149' id='324'><font color='#00ffdf' weight='0.2813' id='309'>!<font color='#17ff00' weight='0.522647' id='308'></font></font><font color='#00ff7c' weight='0.377838' id='323'><font color='#00ff85' weight='0.368912' id='316'><font color='#00fffe' weight='0.250332' id='311'>topologicalSort<font color='#00ff08' weight='0.49168' id='310'></font></font><font color='#00eeff' weight='0.234244' id='313'>.<font color='#00ff18' weight='0.475592' id='312'></font></font><font color='#00fffe' weight='0.250332' id='315'>contains<font color='#00ff08' weight='0.49168' id='314'></font></font></font><font color='#00ff96' weight='0.352824' id='322'>(<font color='#00ffc3' weight='0.308137' id='320'><font color='#32ff00' weight='0.549484' id='319'><font color='#fff600' weight='0.758652' id='318'>node<font color='#ff0000' weight='1' id='317'></font></font></font>)</font><font color='#00ff92' weight='0.356405' id='321'></font></font></font>)</font><font color='#00ffcc' weight='0.299149' id='325'></font></font><font color='#00d2ff' weight='0.206133' id='350'> <font color='#00ff66' weight='0.399213' id='349'>{
      <font color='#00ff7a' weight='0.379599' id='347'><font color='#00f5ff' weight='0.241074' id='345'><font color='#1fff00' weight='0.530693' id='344'><font color='#00ff37' weight='0.445339' id='333'><font color='#00ffe4' weight='0.275808' id='328'>topologicalSort<font color='#11ff00' weight='0.517156' id='327'></font></font><font color='#00fff5' weight='0.25972' id='330'>.<font color='#01ff00' weight='0.501067' id='329'></font></font><font color='#00ffe4' weight='0.275808' id='332'>add<font color='#11ff00' weight='0.517156' id='331'></font></font></font><font color='#00ff9a' weight='0.348801' id='343'>(<font color='#00e8ff' weight='0.22754' id='337'><font color='#00ff40' weight='0.436709' id='336'><font color='#42ff00' weight='0.565426' id='335'>0<font color='#ffc500' weight='0.806774' id='334'></font></font></font>, </font><font color='#00e8ff' weight='0.22754' id='341'><font color='#00ff1f' weight='0.468888' id='340'><font color='#b5ff00' weight='0.678056' id='339'>node<font color='#ff5200' weight='0.919404' id='338'></font></font></font>)</font><font color='#00ffe4' weight='0.275808' id='342'></font></font></font>;</font><font color='#00ff84' weight='0.369792' id='346'></font>
    }</font><font color='#00ff7a' weight='0.379599' id='348'></font></font></font>
  }</font><font color='#00b8ff' weight='0.180995' id='352'></font></font>
}</font><font color='#00e7ff' weight='0.227394' id='355'></font></font></font></font></font>
</pre>
